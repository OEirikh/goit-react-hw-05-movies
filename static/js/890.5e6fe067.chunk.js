"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[890],{4148:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r=t(8735),a=t(501),i=t(6871),s=t(3046),l=t(9403),u=t(184);var c=function(e){var n=e.film,t=n.poster_path,c=n.name,o=n.title,d=n.id,p=e.route,f=void 0===p?"":p,v=(0,i.TH)();return(0,u.jsx)(r.xu,{width:"300px",children:(0,u.jsxs)(a.OL,{to:"".concat(f).concat(d),state:{from:v},children:[(0,u.jsx)(r.xu,{height:"450px",children:(0,u.jsx)(s.Ee,{widgh:"100%",src:t?"".concat(l.yA+t):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",alt:null!==o&&void 0!==o?o:c,borderRadius:"lg"})}),(0,u.jsx)(r.xu,{children:(0,u.jsx)(r.M5,{children:(0,u.jsx)(r.xv,{fontWeight:500,children:null!==o&&void 0!==o?o:c})})})]})})};var o=function(e){var n=e.films,t=e.route;return(0,u.jsx)(r.MI,{minChildWidth:"280px",spacing:"50px",children:n.map((function(e){return(0,u.jsx)(c,{film:e,route:t},e.id)}))})}},8950:function(e,n,t){t.d(n,{b:function(){return d},$o:function(){return o},$G:function(){return v},Mb:function(){return m}});var r=t(5861),a=t(885),i=t(7757),s=t.n(i),l=t(2791),u=t(6871),c=t(9403);function o(){var e=(0,l.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],o=(0,l.useState)(!1),d=(0,a.Z)(o,2),p=d[0],f=d[1],v=(0,u.UO)().movieId;return(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,(0,c.hG)(v);case 4:n=e.sent,i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]),{filmDetails:t,isLoading:p}}function d(){var e=(0,l.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],o=(0,l.useState)(!1),d=(0,a.Z)(o,2),p=d[0],f=d[1],v=(0,u.UO)().movieId;return(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,(0,c.jf)(v);case 4:n=e.sent,i(n.cast),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message,"ERROR by useFechCastOfTheFilm");case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]),{cast:t,isLoading:p}}var p=t(2007),f=t.n(p);function v(e){var n=(0,l.useState)([]),t=(0,a.Z)(n,2),i=t[0],u=t[1],o=(0,l.useState)(!1),d=(0,a.Z)(o,2),p=d[0],f=d[1];return(0,l.useEffect)((function(){function n(){return(n=(0,r.Z)(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.prev=1,n.next=4,(0,c.z1)(e);case 4:t=n.sent,u(t.results),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0.message,"The query did not return any results");case 11:return n.prev=11,f(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})))).apply(this,arguments)}e&&function(){n.apply(this,arguments)}()}),[e]),{filmsBySearch:i,isLoading:p}}function m(){var e=(0,l.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],u=(0,l.useState)(!1),o=(0,a.Z)(u,2),d=o[0],p=o[1];return(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,(0,c.Hg)();case 4:n=e.sent,i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{films:t,isLoading:d}}v.propTypes={searchQuery:f().string.isRequired}},9403:function(e,n,t){t.d(n,{Hg:function(){return o},hG:function(){return v},jf:function(){return h},yA:function(){return u},z1:function(){return p}});var r=t(5861),a=t(7757),i=t.n(a),s=t(4569),l=t.n(s),u="https://image.tmdb.org/t/p/w500";l().defaults.baseURL="https://api.themoviedb.org/3";var c="cdd27e005bd8c0d816b6c6c875eecf17";function o(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/trending/all/week?api_key=".concat(c));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/search/movie?api_key=".concat(c,"&language=en-US&page=1&query=").concat(n,"&include_adult=true"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/movie/".concat(n,"?api_key=").concat(c,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/movie/".concat(n,"/credits?api_key=").concat(c,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1890:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var r=t(885),a=t(2791),i=t(501),s=t(6871),l=t(8735),u=t(8950),c=t(5223),o=t(1340),d=t(6831),p=t(9611),f=t(9113);function v(){return v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(this,arguments)}function m(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var h=["id","isRequired","isInvalid","isDisabled","isReadOnly"],g=["getRootProps","htmlProps"],y=(0,p.kr)({strict:!1,name:"FormControlContext"}),x=y[0],b=y[1];var _=(0,o.Gp)((function(e,n){var t=(0,o.jC)("Form",e),r=function(e){var n=e.id,t=e.isRequired,r=e.isInvalid,i=e.isDisabled,s=e.isReadOnly,l=m(e,h),u=(0,c.Me)(),o=n||"field-"+u,f=o+"-label",g=o+"-feedback",y=o+"-helptext",x=a.useState(!1),b=x[0],_=x[1],I=a.useState(!1),k=I[0],E=I[1],N=(0,c.kt)(),R=N[0],j=N[1],w=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({id:y},e,{ref:(0,p.lq)(n,(function(e){e&&E(!0)}))})}),[y]),S=a.useCallback((function(e,n){var t,a;return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,{ref:n,"data-focus":(0,d.PB)(R),"data-disabled":(0,d.PB)(i),"data-invalid":(0,d.PB)(r),"data-readonly":(0,d.PB)(s),id:null!=(t=e.id)?t:f,htmlFor:null!=(a=e.htmlFor)?a:o})}),[o,i,R,r,s,f]),q=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({id:g},e,{ref:(0,p.lq)(n,(function(e){e&&_(!0)})),"aria-live":"polite"})}),[g]),T=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,l,{ref:n,role:"group"})}),[l]),O=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,{ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!t,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!R,onFocus:j.on,onBlur:j.off,hasFeedbackText:b,setHasFeedbackText:_,hasHelpText:k,setHasHelpText:E,id:o,labelId:f,feedbackId:g,helpTextId:y,htmlProps:l,getHelpTextProps:w,getErrorMessageProps:q,getRootProps:T,getLabelProps:S,getRequiredIndicatorProps:O}}((0,o.Lr)(e)),i=r.getRootProps;r.htmlProps;var s=m(r,g),l=(0,d.cx)("chakra-form-control",e.className);return a.createElement(x,{value:s},a.createElement(o.Fo,{value:t},a.createElement(o.m$.div,v({},i({},n),{className:l,__css:t.container}))))}));d.Ts&&(_.displayName="FormControl");var I=(0,o.Gp)((function(e,n){var t=b(),r=(0,o.yK)(),i=(0,d.cx)("chakra-form__helper-text",e.className);return a.createElement(o.m$.div,v({},null==t?void 0:t.getHelpTextProps(e,n),{__css:r.helperText,className:i}))}));d.Ts&&(I.displayName="FormHelperText");var k=["isDisabled","isInvalid","isReadOnly","isRequired"],E=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function N(e){var n=function(e){var n,t,r,a=b(),i=e.id,s=e.disabled,l=e.readOnly,u=e.required,c=e.isRequired,o=e.isInvalid,p=e.isReadOnly,f=e.isDisabled,h=e.onFocus,g=e.onBlur,y=m(e,E),x=e["aria-describedby"]?[e["aria-describedby"]]:[];null!=a&&a.hasFeedbackText&&null!=a&&a.isInvalid&&x.push(a.feedbackId);null!=a&&a.hasHelpText&&x.push(a.helpTextId);return v({},y,{"aria-describedby":x.join(" ")||void 0,id:null!=i?i:null==a?void 0:a.id,isDisabled:null!=(n=null!=s?s:f)?n:null==a?void 0:a.isDisabled,isReadOnly:null!=(t=null!=l?l:p)?t:null==a?void 0:a.isReadOnly,isRequired:null!=(r=null!=u?u:c)?r:null==a?void 0:a.isRequired,isInvalid:null!=o?o:null==a?void 0:a.isInvalid,onFocus:(0,d.v0)(null==a?void 0:a.onFocus,h),onBlur:(0,d.v0)(null==a?void 0:a.onBlur,g)})}(e),t=n.isDisabled,r=n.isInvalid,a=n.isReadOnly,i=n.isRequired;return v({},m(n,k),{disabled:t,readOnly:a,required:i,"aria-invalid":(0,d.Qm)(r),"aria-required":(0,d.Qm)(i),"aria-readonly":(0,d.Qm)(a)})}var R=(0,o.Gp)((function(e,n){var t=(0,o.jC)("FormError",e),r=(0,o.Lr)(e),i=b();return null!=i&&i.isInvalid?a.createElement(o.Fo,{value:t},a.createElement(o.m$.div,v({},null==i?void 0:i.getErrorMessageProps(r,n),{className:(0,d.cx)("chakra-form__error-message",e.className),__css:v({display:"flex",alignItems:"center"},t.text)}))):null}));d.Ts&&(R.displayName="FormErrorMessage");var j=(0,o.Gp)((function(e,n){var t=(0,o.yK)(),r=b();if(null==r||!r.isInvalid)return null;var i=(0,d.cx)("chakra-form__error-icon",e.className);return a.createElement(f.ZP,v({ref:n,"aria-hidden":!0},e,{__css:t.icon,className:i}),a.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));d.Ts&&(j.displayName="FormErrorIcon");var w=["className","children","requiredIndicator","optionalIndicator"],S=(0,o.Gp)((function(e,n){var t,r=(0,o.mq)("FormLabel",e),i=(0,o.Lr)(e);i.className;var s=i.children,l=i.requiredIndicator,u=void 0===l?a.createElement(q,null):l,c=i.optionalIndicator,p=void 0===c?null:c,f=m(i,w),h=b(),g=null!=(t=null==h?void 0:h.getLabelProps(f,n))?t:v({ref:n},f);return a.createElement(o.m$.label,v({},g,{className:(0,d.cx)("chakra-form__label",i.className),__css:v({display:"block",textAlign:"start"},r)}),s,null!=h&&h.isRequired?u:p)}));d.Ts&&(S.displayName="FormLabel");var q=(0,o.Gp)((function(e,n){var t=b(),r=(0,o.yK)();if(null==t||!t.isRequired)return null;var i=(0,d.cx)("chakra-form__required-indicator",e.className);return a.createElement(o.m$.span,v({},null==t?void 0:t.getRequiredIndicatorProps(e,n),{__css:r.requiredIndicator,className:i}))}));function T(){return T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T.apply(this,arguments)}function O(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}d.Ts&&(q.displayName="RequiredIndicator");var F=["htmlSize"],Z=(0,o.Gp)((function(e,n){var t=e.htmlSize,r=O(e,F),i=(0,o.jC)("Input",r),s=N((0,o.Lr)(r)),l=(0,d.cx)("chakra-input",e.className);return a.createElement(o.m$.input,T({size:t},s,{__css:i.field,ref:n,className:l}))}));d.Ts&&(Z.displayName="Input"),Z.id="Input";var L=["placement"],C={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},P=(0,o.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),G=(0,o.Gp)((function(e,n){var t,r=e.placement,i=void 0===r?"left":r,s=O(e,L),l=null!=(t=C[i])?t:{},u=(0,o.yK)();return a.createElement(P,T({ref:n},s,{__css:T({},u.addon,l)}))}));d.Ts&&(G.displayName="InputAddon");var A=(0,o.Gp)((function(e,n){return a.createElement(G,T({ref:n,placement:"left"},e,{className:(0,d.cx)("chakra-input__left-addon",e.className)}))}));d.Ts&&(A.displayName="InputLeftAddon"),A.id="InputLeftAddon";var z=(0,o.Gp)((function(e,n){return a.createElement(G,T({ref:n,placement:"right"},e,{className:(0,d.cx)("chakra-input__right-addon",e.className)}))}));d.Ts&&(z.displayName="InputRightAddon"),z.id="InputRightAddon";var H=["children","className"],$=(0,o.Gp)((function(e,n){var t=(0,o.jC)("Input",e),r=(0,o.Lr)(e),i=r.children,s=r.className,l=O(r,H),u=(0,d.cx)("chakra-input__group",s),c={},f=(0,p.WR)(i),v=t.field;f.forEach((function(e){if(t){var n,r;if(v&&"InputLeftElement"===e.type.id)c.paddingStart=null!=(n=v.height)?n:v.h;if(v&&"InputRightElement"===e.type.id)c.paddingEnd=null!=(r=v.height)?r:v.h;"InputRightAddon"===e.type.id&&(c.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(c.borderStartRadius=0)}}));var m=f.map((function(n){var t,r,i=(0,d.YU)({size:(null==(t=n.props)?void 0:t.size)||e.size,variant:(null==(r=n.props)?void 0:r.variant)||e.variant});return"Input"!==n.type.id?a.cloneElement(n,i):a.cloneElement(n,Object.assign(i,c,n.props))}));return a.createElement(o.m$.div,T({className:u,ref:n,__css:{width:"100%",display:"flex",position:"relative"}},l),a.createElement(o.Fo,{value:t},m))}));d.Ts&&($.displayName="InputGroup");var B=["placement"],D=["className"],M=["className"],U=(0,o.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),K=(0,o.Gp)((function(e,n){var t,r,i,s=e.placement,l=void 0===s?"left":s,u=O(e,B),c=(0,o.yK)(),d=c.field,p=T(((i={})["left"===l?"insetStart":"insetEnd"]="0",i.width=null!=(t=null==d?void 0:d.height)?t:null==d?void 0:d.h,i.height=null!=(r=null==d?void 0:d.height)?r:null==d?void 0:d.h,i.fontSize=null==d?void 0:d.fontSize,i),c.element);return a.createElement(U,T({ref:n,__css:p},u))}));K.id="InputElement",d.Ts&&(K.displayName="InputElement");var Q=(0,o.Gp)((function(e,n){var t=e.className,r=O(e,D),i=(0,d.cx)("chakra-input__left-element",t);return a.createElement(K,T({ref:n,placement:"left",className:i},r))}));Q.id="InputLeftElement",d.Ts&&(Q.displayName="InputLeftElement");var W=(0,o.Gp)((function(e,n){var t=e.className,r=O(e,M),i=(0,d.cx)("chakra-input__right-element",t);return a.createElement(K,T({ref:n,placement:"right",className:i},r))}));W.id="InputRightElement",d.Ts&&(W.displayName="InputRightElement");var Y=t(1399),J=t(5272),V=t(184);var X=function(e){var n=e.searchHandler,t=(0,a.useState)(""),i=(0,r.Z)(t,2),s=i[0],u=i[1];return(0,V.jsx)(l.xu,{as:"form",mb:"5",onSubmit:function(e){if(e.preventDefault(),""===s.trim())return alert("Enter your request, please");n(s)},children:(0,V.jsxs)($,{children:[(0,V.jsx)(Z,{value:s,onChange:function(e){return u(e.target.value.toLowerCase())},placeholder:"Searh Movies",_placeholder:{opacity:.5,color:"teal"},size:"md"}),(0,V.jsx)(W,{width:"4.5rem",children:(0,V.jsx)(Y.hU,{type:"submit","aria-label":"Search database",size:"sm",icon:(0,V.jsx)(J.W1,{})})})]})})},ee=t(4148);var ne=function(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],c=n[1],o=(0,i.lr)(),d=(0,r.Z)(o,2),p=d[0],f=d[1],v=(0,u.$G)(t),m=v.filmsBySearch,h=v.isLoading,g=p.get("query");return(0,a.useEffect)((function(){g?c(g):f({query:t})}),[g,t,f,c]),(0,V.jsxs)(l.xu,{p:4,children:[(0,V.jsx)(X,{searchHandler:function(e){c(e),f({query:e})}}),h&&"...Loading",!h&&(0,V.jsx)(ee.Z,{films:m}),(0,V.jsx)(s.j3,{})]})}}}]);
//# sourceMappingURL=890.5e6fe067.chunk.js.map